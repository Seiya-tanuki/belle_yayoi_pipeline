# 06_Test_Fixtures_and_Regression

本書は回帰テスト（Regression）用のフィクスチャを定義する。

## 1. 目的
1. OCRの揺らぎや仕様変更があっても、弥生CSVが破壊されないことを自動で検証する。
2. 税区分（借方）と行分割（8/10混在）が正しいことを保証する。

## 2. フィクスチャの形式
1. fixtures/ocr_json/*.json ：OCR JSON（入力）
2. fixtures/expected_csv/*.csv ：期待する弥生CSV（出力）

## 3. ケース分類
1. 単一10%（税額のみ明記）
2. 8/10混在（外税対象額・税額あり）
3. 税率印字のみ（税額/対象額なし：駐車場など）
4. 請求票（税額あり・税率なし）
5. ホテル明細（statement、10%対象・税額あり）

## 4. 評価観点
1. bucket の合計が total と一致する
2. 借方税区分が決定表通り
3. 25列CSVが欠けず、必須列が埋まっている
4. 文字コード（CP932）で出せる（絵文字等は除去/置換）
